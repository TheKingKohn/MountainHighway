# =============================================================================
# MOUNTAIN HIGHWAY API - ENVIRONMENT VARIABLES
# =============================================================================
# Copy this file to .env and update the values for your environment
# Never commit the actual .env file to version control

# =============================================================================
# SERVER CONFIGURATION
# =============================================================================

# Port for the API server to run on
# Default: 4000
PORT=4000

# Node environment (development, production, test)
# Default: development
NODE_ENV=development

# =============================================================================
# FRONTEND CONFIGURATION
# =============================================================================

# URL of the frontend application for CORS and redirects
# Development: http://localhost:5173
# Production: https://your-domain.com
FRONTEND_ORIGIN=http://localhost:5173

# =============================================================================
# SECURITY & AUTHENTICATION
# =============================================================================

# JWT secret key for authentication tokens (256-bit recommended)
# Generate a secure random key: openssl rand -base64 32
JWT_SECRET=dev-jwt-secret-key-change-in-production-use-256-bit-random-string

# JWT token expiration time (examples: 1h, 7d, 30d)
JWT_EXPIRES_IN=7d

# Legacy admin emails (comma-separated) - will be migrated to role-based system
# These users will automatically receive admin roles on system initialization
ADMIN_EMAILS=admin@mountainhighway.com,support@mountainhighway.com

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================

# Database connection string
# SQLite (development): file:./dev.db
# PostgreSQL (production): postgresql://username:password@localhost:5432/database_name
DATABASE_URL=file:./dev.db

# Database provider - determines which database engine to use
# Options: "sqlite" (development), "postgresql" (production)
DATABASE_PROVIDER=sqlite

# PostgreSQL specific settings (only used when DATABASE_PROVIDER=postgresql)
# Connection pool settings for production
DATABASE_POOL_SIZE=10
DATABASE_POOL_TIMEOUT=20

# =============================================================================
# STRIPE PAYMENT CONFIGURATION
# =============================================================================

# Stripe secret key (starts with sk_test_ for test mode, sk_live_ for production)
# Get from: https://dashboard.stripe.com/apikeys
STRIPE_SECRET_KEY=sk_test_51234567890abcdef_test_key_here

# Stripe webhook secret for webhook signature verification
# Get from: https://dashboard.stripe.com/webhooks
STRIPE_WEBHOOK_SECRET=whsec_your_webhook_secret_here

# Platform fee in basis points (800 = 8%, 1000 = 10%)
# This is the fee charged on each transaction
PLATFORM_FEE_BPS=800

# =============================================================================
# PAYPAL PAYMENT CONFIGURATION
# =============================================================================

# PayPal client ID and secret for PayPal payments
# Get from: https://developer.paypal.com/
PAYPAL_CLIENT_ID=your_paypal_client_id_here
PAYPAL_CLIENT_SECRET=your_paypal_client_secret_here

# PayPal environment (sandbox for testing, live for production)
PAYPAL_ENVIRONMENT=sandbox

# =============================================================================
# FILE UPLOAD CONFIGURATION
# =============================================================================

# Maximum file size for uploads in bytes (default: 10MB)
MAX_FILE_SIZE=10485760

# Allowed file types for uploads (comma-separated)
ALLOWED_FILE_TYPES=jpg,jpeg,png,gif,webp,mp4,mov,avi

# Upload directory path (relative to project root)
UPLOAD_DIR=uploads

# =============================================================================
# RATE LIMITING CONFIGURATION
# =============================================================================

# Rate limiting window in minutes
RATE_LIMIT_WINDOW_MS=900000

# Maximum requests per window per IP
RATE_LIMIT_MAX_REQUESTS=100

# Auth-specific rate limiting (login/register attempts)
AUTH_RATE_LIMIT_WINDOW_MS=900000
AUTH_RATE_LIMIT_MAX_ATTEMPTS=5

# =============================================================================
# LOGGING & MONITORING
# =============================================================================

# Log level (error, warn, info, debug)
LOG_LEVEL=info

# Enable detailed request logging
LOG_REQUESTS=false

# =============================================================================
# DEVELOPMENT & TESTING
# =============================================================================

# Enable mock/test mode for payments (useful when API keys are not real)
# Set to 'true' to use mock responses instead of real API calls
ENABLE_MOCK_PAYMENTS=false

# Enable detailed error messages in API responses (disable in production)
DETAILED_ERRORS=true

# Enable development routes and endpoints
ENABLE_DEV_ROUTES=true

# =============================================================================
# NOTES
# =============================================================================
# 
# Required Variables for Production:
# - JWT_SECRET (must be secure)
# - DATABASE_URL (PostgreSQL recommended)
# - STRIPE_SECRET_KEY (live key)
# - STRIPE_WEBHOOK_SECRET
# - FRONTEND_ORIGIN (your domain)
# 
# Optional Variables:
# - PayPal configuration (if using PayPal payments)
# - File upload settings (if using custom limits)
# - Rate limiting settings (if using custom limits)
# 
# Security Checklist:
# □ JWT_SECRET is at least 256 bits and random
# □ Database credentials are secure
# □ All API keys are from production accounts (not test)
# □ FRONTEND_ORIGIN is set to your actual domain
# □ DETAILED_ERRORS is set to false
# □ LOG_LEVEL is set to warn or error
# 
